<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="view_mrp_components_tree" model="ir.ui.view">
        <field name="name">mrp.components.tree</field>
        <field name="model">mrp.components</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name"/>
                <field name="is_valide"/>
            </tree>
        </field>
    </record>

    <!-- Form view with Components tab showing move_raw_ids -->
    <record id="view_mrp_components_form" model="ir.ui.view">
        <field name="name">mrp.components.form</field>
        <field name="model">mrp.components</field>
        <field name="arch" type="xml">
            <form string="Manufacturing Components">
                <sheet>
                    <group>
                        <field name="name"/>
                        <field name="is_valide"/>
                        <field name="company_id" invisible="1"/>
                    </group>

                    <notebook>
                        <page string="Components">
                            <field name="move_raw_ids"
                                   context="{'default_component_id': active_id, 'default_company_id': company_id}">
                                <tree editable="bottom">
                                    <field name="company_id" column_invisible="True"/>
                                    <field name="sequence" widget="handle"/>
                                    <field name="product_id" string="Component"/>
                                    <field name="product_tmpl_id" column_invisible="True" string="Product Template"/>
                                    <field name="product_uom_qty" string="Quantity"/>
                                    <field name="product_uom_id" string="Product Unit of Measure"/>
                                    <field name="manual_consumption" string="Manual Consumption" optional="show"/>
                                    <field name="product_uom_category_id" column_invisible="True"
                                    />
                                    <field name="location_id" column_invisible="True"/>
                                    <field name="location_dest_id" column_invisible="True"/>
                                </tree>
                            </field>
                        </page>
                    </notebook>
                </sheet>
                <chatter/>
            </form>
        </field>
    </record>

    <!-- Action & Menu -->
    <record id="action_mrp_components" model="ir.actions.act_window">
        <field name="name">Components</field>
        <field name="res_model">mrp.components</field>
        <field name="view_mode">tree,form</field>
    </record>

    <menuitem id="menu_mrp_components"
              name="Default Components"
              parent="mrp.menu_mrp_configuration"
              action="action_mrp_components"/>
</odoo>
